# ğŸ›’ Easy Order System

ä¸€å€‹åŸºæ–¼ Next.js çš„å…¨ç«¯è¨‚å–®ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´å®¢æˆ¶è¨‚è³¼ã€ç®¡ç†å“¡å¾Œå°ã€ä¿ƒéŠ·æ´»å‹•ç­‰åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ›ï¸ å®¢æˆ¶ç«¯åŠŸèƒ½
- **å•†å“ç€è¦½** - åˆ†é¡å±•ç¤ºå•†å“ï¼Œæ”¯æ´åœ–ç‰‡ä¸Šå‚³èˆ‡å£“ç¸®
- **è³¼ç‰©è»Š** - å³æ™‚è¨ˆç®—åƒ¹æ ¼ï¼Œæ”¯æ´æ•¸é‡èª¿æ•´
- **è¨‚å–®ç³»çµ±** - å®Œæ•´çš„ä¸‹å–®æµç¨‹ï¼ŒåŒ…å«å®¢æˆ¶è³‡è¨Šæ”¶é›†
- **è¨‚å–®æŸ¥è©¢** - é€éè¨‚å–®ç·¨è™ŸæŸ¥è©¢è¨‚å–®ç‹€æ…‹
- **ä¿ƒéŠ·æ´»å‹•** - è‡ªå‹•è¨ˆç®—å…é‹è²»èˆ‡è´ˆå“å„ªæƒ 

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†å“¡åŠŸèƒ½
- **å„€è¡¨æ¿** - è¨‚å–®çµ±è¨ˆèˆ‡ç³»çµ±æ¦‚è¦½
- **å®¢æˆ¶ç®¡ç†** - å®¢æˆ¶è³‡æ–™ç¶­è­·èˆ‡è¨‚å–®æ­·å²
- **èœå–®ç®¡ç†** - å•†å“æ–°å¢ã€ç·¨è¼¯ã€æ’åº
- **è¨‚å–®ç®¡ç†** - è¨‚å–®ç‹€æ…‹æ›´æ–°ã€ç¢ºèªã€ä»˜æ¬¾è™•ç†
- **ç³»çµ±è¨­å®š** - ä¿ƒéŠ·è¦å‰‡ã€å…é‹è²»é–€æª»è¨­å®š
- **åœ–ç‰‡ç®¡ç†** - å•†å“åœ–ç‰‡ä¸Šå‚³èˆ‡è³‡æ–™åº«å„²å­˜

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- **Next.js 14** - React å…¨ç«¯æ¡†æ¶
- **TypeScript** - å‹åˆ¥å®‰å…¨
- **Tailwind CSS** - éŸ¿æ‡‰å¼ UI è¨­è¨ˆ
- **React Hook Form** - è¡¨å–®ç®¡ç†
- **Zustand** - ç‹€æ…‹ç®¡ç†
- **React DnD** - æ‹–æ‹½æ’åºåŠŸèƒ½

### å¾Œç«¯æŠ€è¡“
- **Next.js API Routes** - æœå‹™ç«¯ API
- **Prisma ORM** - è³‡æ–™åº«æ“ä½œ
- **PostgreSQL** - ä¸»è¦è³‡æ–™åº«
- **Sharp** - åœ–ç‰‡å£“ç¸®è™•ç†

### éƒ¨ç½²å¹³å°
- **Vercel** - å‰ç«¯éƒ¨ç½²
- **Railway** - å¾Œç«¯æœå‹™èˆ‡è³‡æ–™åº«

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚
- Node.js 18+
- PostgreSQL è³‡æ–™åº«
- npm æˆ– yarn

### æœ¬åœ°é–‹ç™¼

1. **å…‹éš†å°ˆæ¡ˆ**
```bash
git clone <repository-url>
cd easy-order-system
```

2. **å®‰è£ä¾è³´**
```bash
npm install
```

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**
```bash
# å»ºç«‹ .env.local æª”æ¡ˆ
echo 'DATABASE_URL="postgresql://user:password@host:port/database"' > .env.local
```

4. **åˆå§‹åŒ–è³‡æ–™åº«**
```bash
npx prisma generate
npx prisma migrate deploy
```

5. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
```bash
npm run dev
```

6. **é–‹å•Ÿç€è¦½å™¨**
```
http://localhost:4000
```

### ç®¡ç†å“¡ç™»å…¥
- è·¯å¾‘ï¼š`/admin/login`
- é è¨­å¸³è™Ÿï¼šè«‹æŸ¥çœ‹è³‡æ–™åº«ä¸­çš„ç®¡ç†å“¡è¨­å®š

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
easy-order-system/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†å“¡é é¢
â”‚   â”‚   â”œâ”€â”€ dashboard/     # å„€è¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ customers/     # å®¢æˆ¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ menu/          # èœå–®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ product-details/ # å•†å“è©³æƒ…
â”‚   â”‚   â””â”€â”€ settings/      # ç³»çµ±è¨­å®š
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ customers/     # å®¢æˆ¶ API
â”‚   â”‚   â”œâ”€â”€ menu/          # èœå–® API
â”‚   â”‚   â”œâ”€â”€ orders/        # è¨‚å–® API
â”‚   â”‚   â”œâ”€â”€ settings/      # è¨­å®š API
â”‚   â”‚   â””â”€â”€ upload/        # ä¸Šå‚³ API
â”‚   â”œâ”€â”€ checkout/          # çµå¸³é é¢
â”‚   â”œâ”€â”€ order-confirmation/ # è¨‚å–®ç¢ºèª
â”‚   â””â”€â”€ order-query/       # è¨‚å–®æŸ¥è©¢
â”œâ”€â”€ components/            # å…±ç”¨å…ƒä»¶
â”œâ”€â”€ lib/                   # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ api.ts            # API å‘¼å«
â”‚   â”œâ”€â”€ cors.ts           # CORS è¨­å®š
â”‚   â””â”€â”€ prisma.ts         # è³‡æ–™åº«é€£æ¥
â”œâ”€â”€ prisma/               # è³‡æ–™åº«è¨­å®š
â”‚   â”œâ”€â”€ schema.prisma     # è³‡æ–™åº«çµæ§‹
â”‚   â””â”€â”€ migrations/       # è³‡æ–™åº«é·ç§»
â””â”€â”€ public/               # éœæ…‹è³‡æº
```

## ğŸ”§ ä¸»è¦ API ç«¯é»

### å®¢æˆ¶ç®¡ç†
- `GET /api/customers` - ç²å–å®¢æˆ¶åˆ—è¡¨
- `POST /api/customers` - æ–°å¢å®¢æˆ¶
- `GET /api/customers/[phone]` - æŸ¥è©¢ç‰¹å®šå®¢æˆ¶

### è¨‚å–®ç®¡ç†
- `GET /api/orders` - ç²å–è¨‚å–®åˆ—è¡¨
- `POST /api/orders` - å»ºç«‹æ–°è¨‚å–®
- `GET /api/orders/[id]` - æŸ¥è©¢ç‰¹å®šè¨‚å–®
- `PUT /api/orders/[id]/status` - æ›´æ–°è¨‚å–®ç‹€æ…‹
- `POST /api/orders/[id]/confirm` - ç¢ºèªè¨‚å–®
- `POST /api/orders/[id]/payment` - è™•ç†ä»˜æ¬¾

### èœå–®ç®¡ç†
- `GET /api/menu` - ç²å–èœå–®é …ç›®
- `POST /api/menu` - æ–°å¢èœå–®é …ç›®
- `PUT /api/menu/[id]` - æ›´æ–°èœå–®é …ç›®
- `DELETE /api/menu/[id]` - åˆªé™¤èœå–®é …ç›®

### ç³»çµ±è¨­å®š
- `GET /api/settings` - ç²å–ç³»çµ±è¨­å®š
- `PUT /api/settings` - æ›´æ–°ç³»çµ±è¨­å®š
- `GET /api/promotion-settings` - ç²å–ä¿ƒéŠ·è¨­å®š
- `PUT /api/promotion-settings` - æ›´æ–°ä¿ƒéŠ·è¨­å®š

### åœ–ç‰‡ç®¡ç†
- `POST /api/upload` - ä¸Šå‚³åœ–ç‰‡
- `GET /api/image/[id]` - ç²å–åœ–ç‰‡

## ğŸ¯ ä¿ƒéŠ·ç³»çµ±

### å…é‹è²»åŠŸèƒ½
- å¯è¨­å®šå…é‹è²»é–€æª»é‡‘é¡
- è¨‚å–®æ‘˜è¦æœƒé¡¯ç¤ºè·é›¢å…é‹è²»çš„å·®é¡

### è´ˆå“åŠŸèƒ½
- æ”¯æ´å¤šå±¤ç´šè´ˆå“è¦å‰‡
- å¯è¨­å®šä¸åŒè³¼è²·æ•¸é‡å°æ‡‰çš„è´ˆå“æ•¸é‡
- è‡ªå‹•è¨ˆç®—ä¸¦é¡¯ç¤ºè´ˆå“è³‡è¨Š

### è¨­å®šç¯„ä¾‹
```json
{
  "isFreeShippingEnabled": true,
  "freeShippingThreshold": 20,
  "isGiftEnabled": true,
  "giftRules": [
    {"threshold": 15, "quantity": 1},
    {"threshold": 20, "quantity": 2},
    {"threshold": 30, "quantity": 3}
  ],
  "giftProductName": "éš¨æ©Ÿé€ä¸€ç“¶",
  "promotionText": "æ»¿15é€1ç“¶ï¼Œæ»¿20é€2ç“¶ï¼Œæ»¿30é€3ç“¶"
}
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Vercel éƒ¨ç½² (å‰ç«¯)
1. é€£æ¥ GitHub å€‰åº«åˆ° Vercel
2. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
   - `DATABASE_URL` - PostgreSQL é€£æ¥å­—ä¸²
3. è‡ªå‹•éƒ¨ç½²

### Railway éƒ¨ç½² (å¾Œç«¯)
1. é€£æ¥ GitHub å€‰åº«åˆ° Railway
2. æ–°å¢ PostgreSQL æœå‹™
3. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
   - `DATABASE_URL` - è‡ªå‹•å¾ PostgreSQL æœå‹™å–å¾—
4. éƒ¨ç½²

## ğŸ“Š è³‡æ–™åº«çµæ§‹

### ä¸»è¦è¡¨æ ¼
- **Customer** - å®¢æˆ¶è³‡æ–™
- **Order** - è¨‚å–®è³‡è¨Š
- **OrderItem** - è¨‚å–®é …ç›®
- **Menu** - èœå–®é …ç›®
- **SystemSetting** - ç³»çµ±è¨­å®š
- **PromotionSetting** - ä¿ƒéŠ·è¨­å®š
- **ImageStorage** - åœ–ç‰‡å„²å­˜

## ğŸ› ï¸ é–‹ç™¼æŒ‡ä»¤

```bash
# é–‹ç™¼æ¨¡å¼
npm run dev

# å»ºç½®å°ˆæ¡ˆ
npm run build

# å•Ÿå‹•ç”Ÿç”¢æ¨¡å¼
npm start

# ç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint

# Prisma ç›¸é—œ
npm run prisma:generate    # ç”Ÿæˆ Prisma å®¢æˆ¶ç«¯
npm run prisma:migrate     # åŸ·è¡Œè³‡æ–™åº«é·ç§»
npm run prisma:studio      # é–‹å•Ÿ Prisma Studio
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **åœ–ç‰‡ç„¡æ³•é¡¯ç¤º**
   - æª¢æŸ¥ `ImageStorage` è¡¨æ ¼æ˜¯å¦æœ‰è³‡æ–™
   - ç¢ºèªåœ–ç‰‡ API è·¯ç”±æ­£å¸¸é‹ä½œ

2. **ä¿ƒéŠ·è¨­å®šç„¡æ³•æ›´æ–°**
   - ç¢ºèª API è·¯ç”±æœ‰ `export const dynamic = 'force-dynamic'`
   - æª¢æŸ¥ CORS è¨­å®š

3. **è³‡æ–™åº«é€£æ¥å¤±æ•—**
   - ç¢ºèª `DATABASE_URL` ç’°å¢ƒè®Šæ•¸æ­£ç¢º
   - æª¢æŸ¥è³‡æ–™åº«æœå‹™æ˜¯å¦æ­£å¸¸

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v0.1.0
- âœ… åŸºæœ¬è¨‚å–®ç³»çµ±åŠŸèƒ½
- âœ… ç®¡ç†å“¡å¾Œå°
- âœ… ä¿ƒéŠ·æ´»å‹•ç³»çµ±
- âœ… åœ–ç‰‡ä¸Šå‚³èˆ‡ç®¡ç†
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Š

æ­¤å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

## ğŸ“ è¯çµ¡è³‡è¨Š

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€é GitHub Issues è¯çµ¡ã€‚

---

**Happy Coding! ğŸ‰**

